
<HTML><HEAD><TITLE>Manpage of 3proxy</TITLE>
</HEAD><BODY>
<H1>3proxy</H1>
Section: Universal proxy server (8)<BR>Updated: December 2004<BR><A HREF="#index">Index</A>
<A HREF="../index.html">Return to Main Contents</A><HR>

<A NAME="lbAB">&nbsp;</A>
<H2>NAME</H2>

<B>3proxy</B>

- 3[APA3A] tiny proxy server, or trivial proxy server, or free proxy
server
<A NAME="lbAC">&nbsp;</A>
<H2>SYNOPSIS</H2>

<B>3proxy</B>

[<I>config_file</I>]

<BR>

<B>3proxy</B>

[<I>--install</I>]

<BR>

<B>3proxy</B>

[<I>--remove</I>]

<A NAME="lbAD">&nbsp;</A>
<H2>DESCRIPTION</H2>

<B>3proxy</B>

is universal proxy server. It can be used to provide internal users wuth
fully controllable access to external resources or to provide external
users with access to internal resources. 3proxy is not developed to replace
<B><A HREF="../man8/squid.8.html">squid</A></B>(8),

but it can extend functionality of existing cashing proxy.
It can be used to route requests between different types of clients and proxy
servers. Think about it as application level
gateway with configuration like hardware router has for network layer.
It can establish multiple
gateways with HTTP and HTTPS proxy with FTP over HTTP support, SOCKS v4,
v4.5 and v5, POP3 proxy, UDP and TCP portmappers. Each gateway is started
from configuration file like independant service 
<B><A HREF="../man8/proxy.8.html">proxy</A></B>(8)

<B><A HREF="../man8/socks.8.html">socks</A></B>(8)

<B><A HREF="../man8/pop3p.8.html">pop3p</A></B>(8)

<B><A HREF="../man8/tcppm.8.html">tcppm</A></B>(8)

<B><A HREF="../man8/udppm.8.html">udppm</A></B>(8)

<B><A HREF="../man8/ftppr.8.html">ftppr</A></B>(8)

<B>dnspr</B>

but
<B>3proxy</B>

is not a kind of wrapper or superserver for this daemons. It just has same
code compiled in, but provides much more functionality. SOCKSv5
implementatation allows to use 3proxy with any UDP or TCP based client
applications designed without
proxy support (with
<I>SocksCAP</I>,

<I>FreeCAP</I>

or another client-side redirector under Windows of with socksification library
under Unix). So you can play your favourite games, listen music, exchange
files and messages and even accept incoming connections behind proxy server.
<P>

<I>dnspr</I>

does not exist as independant service. It' DNS caching proxy (it requires
<I>nscache</I>

and
<I>nserver</I>

to be set in configuration. Only A-records are cached. Please note, the
this caching is mostly a 'hack' and has nothing to do with real
DNS server, but it works perfectly for SOHO networks.
<P>
<P>

3proxy supports access control lists (ACL) like network router. Source
and destination networks and destination port can be specified. In addition,
usernames and gateway action (for example GET or POST) can be used in ACLs.
In order to filter request on username basis user must be authenticated somehow. There are few
authentication types including password authentication and authentication by
NetBIOS name for Windows clients (it's very like ident authentication).
Depending on ACL action request can be allowed, denied or redirected to another
host or to another proxy server or even to a chain of proxy servers.
<P>

It supports different types of logging: to logfiles, 
<B><A HREF="../man3/syslog.3.html">syslog</A></B>(3)

(only under Unix) or to ODBC database. Logging format is turnable to provide
compatibility with existing log file parsers. It makes it possible to use
3proxy with IIS, ISA, Apache or Squid log parsers.
<A NAME="lbAE">&nbsp;</A>
<H2>OPTIONS</H2>

<DL COMPACT>
<DT><B>config_file</B>

<DD>
Name of config file. See
<B><A HREF="../man3/3proxy.cfg.3.html">3proxy.cfg</A></B>(3)

for configuration file format. Under Windows, if config_file is not specified,
<B>3proxy</B>

looks for file named
<I>3proxy.cfg</I>

in the default location (in same directory with executable file and in current
directory). Under Unix, if no config file is specified, 3proxy reads
configuration from stdin. It makes it possible to use 3proxy.cfg file as
executable script just by setting +x mode and adding
<BR>

#!/usr/local/3proxy/3proxy
<BR>

as a first line in 3proxy.cfg
<DT><B>--install</B>

<DD>
(Windows NT family only) install 
<B>3proxy</B>

as a system service
<DT><B>--remove</B>

<DD>
(Windows NT family only) remove
<B>3proxy</B>

from system services
</DL>
<A NAME="lbAF">&nbsp;</A>
<H2>SIGNALS</H2>

Under Unix there are few signals
<B>3proxy</B>

catches. See
<B><A HREF="../man1/kill.1.html">kill</A></B>(1).

<DL COMPACT>
<DT><B>SIGTERM</B>

<DD>
cleanup connections and exit
<DT><B>SIGPAUSE</B>

<DD>
stop to accept new connections, on second signal - start and re-read
configuration
<DT><B>SIGCONT</B>

<DD>
start to accept new conenctions
<DT><B>SIGUSR1</B>

<DD>
reload configuration
</DL>
<P>

Under Windows, if
<B>3proxy</B>

is installed as service you can standard service management to start, stop,
pause and continue 3proxy service, for example:
<BR>

<B>net start 3proxy</B>

<BR>

<B>net stop 3proxy</B>

<BR>

<B>net pause 3proxy</B>

<BR>

<B>net continue 3proxy</B>

<P>

Web admin service can also be used to reload configuration. Use
wget to automate this task.
<A NAME="lbAG">&nbsp;</A>
<H2>FILES</H2>

<DL COMPACT>
<DT><I>/usr/local/3proxy/3proxy.cfg (3proxy.cfg)</I>

<DD>
<B>3proxy</B>

configuration file
</DL>
<A NAME="lbAH">&nbsp;</A>
<H2>BUGS</H2>

Report all bugs to
<B><A HREF="mailto:3proxy@security.nnov.ru">3proxy@security.nnov.ru</A></B>

<A NAME="lbAI">&nbsp;</A>
<H2>SEE ALSO</H2>

<A HREF="../man3/3proxy.cfg.3.html">3proxy.cfg</A>(3), <A HREF="../man8/proxy.8.html">proxy</A>(8), <A HREF="../man8/ftppr.8.html">ftppr</A>(8), <A HREF="../man8/socks.8.html">socks</A>(8), <A HREF="../man8/pop3p.8.html">pop3p</A>(8), <A HREF="../man8/tcppm.8.html">tcppm</A>(8), <A HREF="../man8/udppm.8.html">udppm</A>(8),
<A HREF="../man1/kill.1.html">kill</A>(1), <A HREF="../man8/syslogd.8.html">syslogd</A>(8),
<BR>

<A HREF="http://www.security.nnov.ru/soft/3proxy/">http://www.security.nnov.ru/soft/3proxy/</A>
<A NAME="lbAJ">&nbsp;</A>
<H2>TRIVIA</H2>

3APA3A is pronounced as ``zaraza''.
<A NAME="lbAK">&nbsp;</A>
<H2>AUTHORS</H2>

3proxy is designed by 3APA3A
(<I><A HREF="mailto:3APA3A@security.nnov.ru">3APA3A@security.nnov.ru</A></I>),

Vladimir Dubrovin
(<I><A HREF="mailto:vlad@sandy.ru">vlad@sandy.ru</A></I>)

<P>

<HR>
<A NAME="index">&nbsp;</A><H2>Index</H2>
<DL>
<DT><A HREF="#lbAB">NAME</A><DD>
<DT><A HREF="#lbAC">SYNOPSIS</A><DD>
<DT><A HREF="#lbAD">DESCRIPTION</A><DD>
<DT><A HREF="#lbAE">OPTIONS</A><DD>
<DT><A HREF="#lbAF">SIGNALS</A><DD>
<DT><A HREF="#lbAG">FILES</A><DD>
<DT><A HREF="#lbAH">BUGS</A><DD>
<DT><A HREF="#lbAI">SEE ALSO</A><DD>
<DT><A HREF="#lbAJ">TRIVIA</A><DD>
<DT><A HREF="#lbAK">AUTHORS</A><DD>
</DL>
<HR>
This document was created by
using the manual pages.<BR>
Time: 21:15:36 GMT, January 09, 2008
</BODY>
</HTML>
